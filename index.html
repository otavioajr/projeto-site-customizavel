<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Aventuras guiadas com segurança">
  <title>Aventuras Guiadas</title>
  <link rel="stylesheet" href="/assets/css/styles.css">
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="container">
      <div class="header-content">
        <a href="/" class="logo" id="site-logo">Aventuras</a>
        <nav class="nav" id="main-nav">
          <!-- Links dinâmicos serão inseridos aqui via JS -->
        </nav>
        <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Menu">
          <span></span>
          <span></span>
          <span></span>
        </button>
      </div>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="hero" id="hero">
    <div class="hero-overlay"></div>
    <div class="container hero-content">
      <h1 class="hero-title" id="hero-title">Viva a aventura com segurança</h1>
      <p class="hero-subtitle" id="hero-subtitle">Guias certificados, roteiros exclusivos e experiências inesquecíveis.</p>
      <a href="#contato" class="btn btn-primary" id="hero-cta">Agendar Agora</a>
    </div>
  </section>

  <!-- About Section -->
  <section class="section about" id="about-section">
    <div class="container">
      <div class="about-grid">
        <div class="about-image">
          <img id="about-img" src="" alt="Sobre" loading="lazy">
        </div>
        <div class="about-text">
          <h2 id="about-title">Sobre mim</h2>
          <p id="about-text">Carregando...</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Services Section -->
  <section class="section services" id="services-section">
    <div class="container">
      <h2 class="section-title">Serviços</h2>
      <div class="services-grid" id="services-grid">
        <!-- Serviços serão inseridos aqui via JS -->
      </div>
    </div>
  </section>

  <!-- Testimonials Section -->
  <section class="section testimonials" id="testimonials-section">
    <div class="container">
      <h2 class="section-title">Depoimentos</h2>
      <div class="testimonials-grid" id="testimonials-grid">
        <!-- Depoimentos serão inseridos aqui via JS -->
      </div>
    </div>
  </section>

  <!-- Gallery Section -->
  <section class="section gallery" id="gallery-section">
    <div class="container">
      <h2 class="section-title" id="gallery-title">Galeria</h2>
      <div class="gallery-grid" id="gallery-grid">
        <!-- Imagens serão inseridas aqui via JS -->
      </div>
    </div>
  </section>

  <!-- Contact Section -->
  <section class="section contact" id="contato">
    <div class="container">
      <h2 class="section-title">Contato</h2>
      <div class="contact-grid">
        <div class="contact-item">
          <svg class="contact-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
          </svg>
          <a href="#" id="contact-whats" class="contact-link">WhatsApp</a>
        </div>
        <div class="contact-item">
          <svg class="contact-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
            <polyline points="22,6 12,13 2,6"></polyline>
          </svg>
          <span id="contact-email" class="contact-link">email@exemplo.com</span>
        </div>
        <div class="contact-item">
          <svg class="contact-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
            <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
            <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line>
          </svg>
          <a href="#" id="contact-ig" class="contact-link" target="_blank" rel="noopener">Instagram</a>
        </div>
        <div class="contact-item">
          <svg class="contact-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
            <circle cx="12" cy="10" r="3"></circle>
          </svg>
          <span id="contact-location" class="contact-link">Localização</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <p>&copy; 2025 Aventuras. Todos os direitos reservados. 
        <a href="#" id="clear-cache-link" style="margin-left: 10px; font-size: 0.8em; opacity: 0.7;">Limpar Cache</a>
      </p>
    </div>
  </footer>

  <script>
    // Função global para limpar cache e cookies
    window.clearSiteCache = function() {
      if (confirm('Isso vai limpar todos os dados salvos localmente e recarregar a página. Deseja continuar?')) {
        try {
          // Limpar localStorage
          localStorage.clear();
          console.log('✅ localStorage limpo');
          
          // Limpar sessionStorage
          sessionStorage.clear();
          console.log('✅ sessionStorage limpo');
          
          // Limpar cookies
          document.cookie.split(";").forEach(function(c) { 
            document.cookie = c.replace(/^ +/, "").replace(/=.*/, "=;expires=" + new Date().toUTCString() + ";path=/"); 
          });
          console.log('✅ Cookies limpos');
          
          // Recarregar a página
          window.location.reload(true);
        } catch (error) {
          console.error('Erro ao limpar cache:', error);
          alert('Erro ao limpar cache. Tente recarregar a página manualmente.');
        }
      }
    };

    // Adicionar evento ao link de limpar cache quando o DOM estiver pronto
    document.addEventListener('DOMContentLoaded', function() {
      const clearCacheLink = document.getElementById('clear-cache-link');
      if (clearCacheLink) {
        clearCacheLink.addEventListener('click', function(e) {
          e.preventDefault();
          window.clearSiteCache();
        });
      }
    });

    // Carregar config de acordo com o ambiente e aguardar antes de carregar o app.js
    (async () => {
      const configSrc = window.location.hostname === 'localhost' ? '/config.js' : '/api/config';
      
      try {
        await new Promise((resolve, reject) => {
          const configScript = document.createElement('script');
          configScript.src = configSrc;
          configScript.onload = resolve;
          configScript.onerror = reject;
          document.head.appendChild(configScript);
        });
        console.log('✅ Config carregado com sucesso');
      } catch (error) {
        console.warn('⚠️ Não foi possível carregar config. Usando valores padrão.');
        window.SUPABASE_URL = window.SUPABASE_URL || '';
        window.SUPABASE_ANON_KEY = window.SUPABASE_ANON_KEY || '';
      }
      
      // Agora carregar o app.js
      const appScript = document.createElement('script');
      appScript.type = 'module';
      appScript.src = '/assets/js/app.js';
      document.body.appendChild(appScript);
    })();
  </script>
</body>
</html>
